HTTP/1.1 200 OK
Accept-Ranges: bytes
Content-Length: 3871
Content-Type: text/html; charset=utf-8
Last-Modified: Thu, 15 Sep 2022 10:38:43 GMT
Date: Sun, 18 Sep 2022 01:46:28 GMT
Connection: close

<!-- generated by ohf_main_to_be_deployed.go -->
<!DOCTYPE html>
<html>
  <head>
    <title>One-tap Hacking Platform</title>
    <link rel="stylesheet" href="xterm.css" />
    <script src="jquery-3.6.1.min.js"></script>
    <script src="js.cookie.min.js"></script>
    <script src="xterm.js"></script>
  </head>

  <body>
    <div id="terminal"></div>
    <form id="less" action="/less">
      <label>Custom terminal style</label><br />
      <textarea id="lessdata" name="less" rows="10" cols="50"></textarea>
      <button type="submit">Submit</button>
    </form>
    <script>
      $("#less").submit(function (e) {
        $.getJSON(
          "/less",
          { data: btoa($("#lessdata").val()) },
          function (data) {
            var styleSheet = document.createElement("style");
            styleSheet.innerText = data.data;
            document.head.appendChild(styleSheet);
          }
        );
        e.preventDefault();
      });
    </script>
    <script>
      var login = false;
      var cmd = "";
      var term = new Terminal({
        cursorBlink: true,
      });
      term.open(document.getElementById("terminal"));
      var banner =
        ":'#######::'##::: ##:'########::::::::::'########::::'###::::'########::\r\n" +
        "'##.... ##: ###:: ##: ##.....:::::::::::... ##..::::'## ##::: ##.... ##:\r\n" +
        " ##:::: ##: ####: ##: ##::::::::::::::::::: ##:::::'##:. ##:: ##:::: ##:\r\n" +
        " ##:::: ##: ## ## ##: ######:::'#######:::: ##::::'##:::. ##: ########::\r\n" +
        " ##:::: ##: ##. ####: ##...::::........:::: ##:::: #########: ##.....:::\r\n" +
        " ##:::: ##: ##:. ###: ##::::::::::::::::::: ##:::: ##.... ##: ##::::::::\r\n" +
        ". #######:: ##::. ##: ########::::::::::::: ##:::: ##:::: ##: ##::::::::\r\n" +
        ":.......:::..::::..::........::::::::::::::..:::::..:::::..::..:::::::::\r\n\r\n";
      term.write(banner);
      term.write("Version: 1.14.514.\r\n\r\n");
      term.write("> ");
      term.onData((data) => {
        if (data.charCodeAt(0) == 13) {
          term.write("\r\n");
          if (cmd == "help") {
            term.writeln("  login [name]    login attack system");
            term.writeln("  list            list plugin for attack");
            term.writeln("  use [id]        use plugin for attack");
            term.write("> ");
          } else if (cmd.startsWith("login ")) {
            name = cmd.replace("login ", "");
            $.getJSON("/login", { name: name }, function (data) {
              Cookies.set("config", data.config);
            });
            term.writeln("Login successful");
            login = true;
            term.write("> ");
          } else {
            if (login) {
              if (cmd == "list") {
                $.getJSON("/list", function (data) {
                  term.writeln("  ID         NAME");
                  for (const [k, v] of Object.entries(data.plugin)) {
                    term.writeln("  " + k + "    " + v);
                  }
                  term.write("> ");
                });
              } else if (cmd.startsWith("use")) {
                id = cmd.replace("use ", "");
                $.getJSON("/use", { id: id }, function (data) {
                  term.writeln(data.data.replaceAll("\n", "\r\n"));
                  term.write("> ");
                });
              } else {
                term.writeln("command not found: " + cmd);
                term.write("> ");
              }
            } else {
              term.writeln("Please login first");
              term.write("> ");
            }
          }

          cmd = "";
        } else if (data.charCodeAt(0) == 127) {
          // do nothing
        } else {
          term.write(data);
          cmd += data;
        }
      });
    </script>
  </body>
</html>
<!-- generated by ohf_main_to_be_deployed.go -->
